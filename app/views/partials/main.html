<div ng-include="'partials/navbar'"></div>


<div class="wrapper">
	<div class="row zone">
		<div class="col-4" ng-controller="CatListCtrl">
			<div class="category-list-wrapper">
				<div class="zone-heading">
					<h3 class="zone-heading-title">category list</h3>
				</div>

				<div class="well category-list">

					<div class="category-wrapper" ng-repeat="category in categoryRoot.children" ng-class="{'open': expandedCategory==category}" ng-click="navigateDown(category)">
						<div class="category">
							<div class="category-name-wrapper">
								<div class="category-name">{{category.name}}</div>
							</div>
							<div class="category-interactions-wrapper">
								<button type="button" class="btn nostyle category-interaction" ng-click="$event.stopPropagation()">
									<i class="fa fa-fw fa-plus"></i>
								</button>
								<button type="button" class="btn nostyle category-interaction" ng-if="category.children.length>0" ng-click="expandCategory(category); $event.stopPropagation()">
									<i class="fa fa-fw fa-caret-left" ng-class="{'fa-rotate-270': expandedCategory === category}"></i>
								</button>
							</div>
						</div>
						<div class="category-children-wrapper">
							<div class="category child" ng-repeat="category in category.children">
								<div class="category-name-wrapper">
									<div class="category-name">{{category.name}}</div>
								</div>
								<div class="category-interactions-wrapper">
									<button type="button" class="btn nostyle category-interaction" ng-click="$event.stopPropagation()">
										<i class="fa fa-fw fa-plus"></i>
									</button>
									<button type="button" class="btn nostyle category-interaction" ng-if="category.children.length>0" ng-click="navigateDown(category); $event.stopPropagation()">
										<i class="fa fa-fw fa-caret-left"></i>
									</button>
								</div>
							</div>
						</div>
					</div>



					<!--<div class="panel panel-default" ng-repeat="category in categories.root.children">
						<div class="panel-heading">
							<h3 class="panel-title">{{ category.name }}</h3>
						</div>
						<div class="panel-body" ng-include="'/views/partials/category-tree.html'"></div>
					</div>-->
				</div>
			</div>
		</div>

		<div class="col-8" ng-controller="ProductSearchCtrl">

			<form class="form-group-inline product-search-bar" ng-submit="search()">
				<button type="button" class="btn">
					<!--<span ng-if="categoryRoot.name==='root'">root</span><span ng-if="categoryRoot!=='root'">{{ categoryRoot.name }}</span>-->
					selected category
				</button>
				<input class="input input-primary input-fill" type="text" placeholder="search for products by keyword" ng-model="term">
				<button class="btn"><i class="fa fa-fw fa-search"></i></button>
				<button class="btn"><i class="fa fa-fw fa-plus"></i></button>
			</form>
			<label><input type="checkbox">select all</label>
			<div class="well result-list">
				<div class="result-list-item" ng-repeat="product in products">

					<div class="interaction checkbox">
						<input type="checkbox" ng-model="product.id">
					</div>
					<div class="result-list-item-content-wrapper"><span>{{ product.name }}</span></div>
					<button type="button" class="btn nostyle interaction"><i class="fa fa-fw fa-gear"></i></button>
					<button type="button" class="btn nostyle interaction"><i class="fa fa-fw fa-plus"></i></button>
				</div>
			</div>
		</div>
	</div>
</div>